meatadata 구상

게시글의 사진, 영상의 url을 송수신.

몽고디비에 저장.

저장은 바로바로 하고 삭제는 적당히 카운트세서 한꺼번에 해버리는게 좋을듯?

저장은 래빗으로, 클라이언트 요청오는건 API로.  
업로드쪽에서 래빗으로 저장메세지 날렸지만,
처리 이전에 클라이언트가 요청오면? 거기에 대한 방어가 필요할듯.  
내부로직만 완벽하다면 걍 곧 준비된다.. 라는식으로 미리 만들어놓은 사진 띄울까

풀스캔써야하는데...

{ 유저(작성자)uuid, 게시글 uuid, 코멘트, Date?, count? }
스토리지url/게시글uuid/게시글uuid.몇번째.확장자 로 url생성.
아.. 이거 그냥 count만 있으면 url생성 쉽겠는데 제대로 요청하려면 확장자까지 있어야할듯?
확장자 순서대로 담은 배열까지 필요한거같은데..
->{ 유저(작성자)uuid, 게시글 uuid, 코멘트, Date?, 확장자[]? }
document보고 url파싱하는건 클라이언트에서 하게 하면 서버부하 덜가게할 수 있을듯.
그냥 서버는 유저uuid로 풀스캔 때려서 응답으로 보내면 끝?
